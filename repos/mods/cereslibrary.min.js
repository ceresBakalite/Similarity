/**
 * @license
 * cereslibrary v1.0.0
 *
 * Minified using terser v5.3.5
 * Original file: ceresbakalite/similarity/repos/scripts/cereslibrary.js
 *
 * ceresBakalite/similarity is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2020 Alexander Munro
*/
export{include,generic,cookies,compose,touch,caching};var include={};(function(){"use strict";this.directive=function(e="include-directive"){window.customElements.get(e)||window.customElements.define(e,class extends HTMLElement{async connectedCallback(){const e=this.getAttribute("src");fetch(e).then((e=>e.text())).then((e=>{this.insertAdjacentHTML("afterbegin",e)}))}})}}).call(include);var generic={};(function(){"use strict";this.reference=1,this.notify=2,this.default=98,this.error=99,this.bool=["true","1","yes","on","TRUE","YES","ON","Y","T","y","t"],this.isWindows=-1!=navigator.appVersion.indexOf("Win"),this.newline=this.isWindows?"\r\n":"\n",this.whitespace=/\s/g,this.markup=/(<([^>]+)>)/gi,this.windowOpen=function(e){window.open(e.element.getAttribute("src"),e.type)},this.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)},this.clearElement=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},this.getImportMetaUrl=function(){return import.meta.url},this.setHorizontalSwipe=function(e,t,n){e.act||(e.act=80),e.node.addEventListener("touchstart",(t=>{e.start=t.changedTouches[0].screenX}),{passive:!0}),e.node.addEventListener("touchmove",(e=>{e.preventDefault()}),{passive:!0}),e.node.addEventListener("touchend",(i=>{e.end=i.changedTouches[0].screenX,Math.abs(e.start-e.end)>e.act&&(n.action=e.start>e.end,t.call(this,n))}),{passive:!0})},this.isEmptyOrNull=function(e){return null===e||"undefined"==e||(this.isString(e)?0===e.length||!e.trim():Array.isArray(e)?0===e.length:e&&e.constructor===Object?0===Object.keys(e).length:!e)},this.getBooleanAttribute=function(e){return!0===e||!1===e?e:!(this.isEmptyOrNull(e)||!this.isString(e))&&this.bool.includes(e.trim())},this.getUniqueElementId=function(e=null,t=100){let n=null;for(;document.getElementById(n=e+Math.floor(Math.random()*t)););return n},this.removeDuplcates=function(e,t){const n=JSON.stringify;let i=[...new Map(e.map((e=>[n(e),e]))).values()];return t?i.sort(((e,t)=>e-t)):i},this.htmlToText=function(e,t){if(this.isEmptyOrNull(e))return;if(t)return e.replace(this.markup,"");let n=document.createElement("div");return n.innerHTML=e,n.textContent||n.innerText},this.inspect=function(e){const t=function(e){let t=e.notification+" [ DateTime: "+(new Date).toLocaleString()+" ]";console.error(t),e.alert&&alert(t)},n={[this.notify]:function(){e.logtrace&&console.info(e.notification)},[this.error]:function(){t({notification:e.notification,alert:e.logtrace})},[this.reference]:function(){e.logtrace&&console.log("Reference: "+this.newline+this.newline+e.reference)},[this.default]:function(){t({notification:errordefault,alert:e.logtrace})}};n[e.type]()||n[this.default]},this.getObjectProperties=function(e,t=""){for(let n in e)t+=n+": "+e[n]+", ";return t.replace(/, +$/g,"")}}).call(generic);var cookies={};(function(){"use strict";this.get=function(e){const t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},this.set=function(e,t,n={}){let i=encodeURIComponent(e)+"="+encodeURIComponent(t);n.path||(n.path="/"),n.samesite||(n.samesite="Strict; Secure"),n.expires instanceof Date&&(n.expires=n.expires.toUTCString());for(let e in n)i+="; "+e+"="+(null!=typeof n[e]?n[e]:null);document.cookie=i}}).call(cookies);var compose={};(function(){"use strict";const e=new Map;e.set("link",document.head),e.set("script",document.head),e.set("style",document.head),this.composeElement=function(t,n="en"){const i=e.get(t.typeof.toLocaleLowerCase(n))||t.parent,c=document.createElement(t.typeof);c.id=t.id,t.className&&c.setAttribute("class",t.className),t.onClick&&c.setAttribute("onclick",t.onClick),t.src&&c.setAttribute("src",t.src),t.alt&&c.setAttribute("alt",t.alt),t.rel&&c.setAttribute("rel",t.rel),t.type&&c.setAttribute("type",t.type),t.href&&c.setAttribute("href",t.href),t.as&&c.setAttribute("as",t.as),t.crossorigin&&c.setAttribute("crossorigin",t.crossorigin),t.media&&c.setAttribute("media",t.media),t.markup&&c.insertAdjacentHTML("afterbegin",t.markup),i.appendChild(c)},this.composeUniqueElementId=function(e=null,t=100){let n=null;for(;document.getElementById(n=e+Math.floor(Math.random()*t)););return n},this.composeCORSLinks=function(e){const t=document.querySelectorAll(e.node);e.regex||(e.regex=/<a (?!target)/gim),e.replace||(e.replace='<a target="_top" '),t.forEach((t=>{let n=t.shadowRoot;if(n){let t=n.querySelector(e.query).innerHTML;n.querySelector(e.query).innerHTML=t.replace(e.regex,e.replace)}}))}}).call(compose);var touch={};(function(){"use strict";this.setHorizontalSwipe=function(e,t,n){e.act||(e.act=80),e.node.addEventListener("touchstart",(t=>{e.start=t.changedTouches[0].screenX}),{passive:!0}),e.node.addEventListener("touchmove",(e=>{e.preventDefault()}),{passive:!0}),e.node.addEventListener("touchend",(i=>{e.end=i.changedTouches[0].screenX,Math.abs(e.start-e.end)>e.act&&(n.action=e.start>e.end,t.call(this,n))}),{passive:!0})}}).call(touch);var caching={};(function(e){"use strict";this.available="caches"in window,this.set=function(e="Cache-Control",t="public, max-age 604800, s-maxage 43200"){(new Headers).set(e,t)},this.get=function(e="Cache-Control"){(new Headers).get(e)},this.installCache=function(e,t,n="/images/NAVCogs.png"){window.addEventListener("install",(function(n){n.waitUntil(caches.open(e).then((function(e){return e.addAll(t)})))})),window.addEventListener("fetch",(function(t){t.respondWith(caches.match(t.request).then((function(i){return void 0!==i?i:fetch(t.request).then((function(n){let i=n.clone();return caches.open(e).then((function(e){e.put(t.request,i)})),n})).catch((function(){return caches.match(n)}))})))}))},this.viewCachedRequests=function(e){caches.open(e).then((function(e){e.keys().then((function(e){console.log("exploreCache: "+e)}))}))},this.listExistingCacheNames=function(){caches.keys().then((function(e){console.log("listCache: "+e)}))},this.deleteCacheByName=function(e){caches.delete(e).then((function(){console.log(e+" - Cache successfully deleted")}))},this.deleteOldCacheVersions=function(e){caches.keys().then((function(t){return Promise.all(t.map((function(t){if(t!=e)return caches.delete(t)})))}))}}).call(caching);