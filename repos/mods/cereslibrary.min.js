/**
 * @license
 * cereslibrary v1.0.0
 *
 * Minified using terser v5.4.0
 * Original file: gh ./repos/scripts/cereslibrary.js
 *
 * ceresBakalite/similarity is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2020 Alexander Munro
*/
export{include,resource,cookies,touch,cache};const e='Warning: cache response status ';var include={};(function(){this.directive=function(e='include-directive'){window.customElements.get(e)||window.customElements.define(e,class extends HTMLElement{async connectedCallback(){const e=this.getAttribute('src');fetch(e).then((e=>e.text())).then((e=>{this.insertAdjacentHTML('afterbegin',e)}))}})}}).call(include);var resource={};(function(){this.srcOpen=function(e){window.open(e.element.getAttribute('src'),e.type)},this.isString=function(e){return'[object String]'==Object.prototype.toString.call(e)},this.clearElement=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},this.fileName=function(e){return e.substring(e.lastIndexOf('/')+1,e.length)},this.fileType=function(e,t){return e.substring(e.lastIndexOf('.'),e.length).toUpperCase()===t.toUpperCase()},this.composeElement=function(e,t){if(!e.type)return;const n=this.attrib.tag.includes(e.type.trim().toUpperCase())?document.head:e.parent||document.body,i=document.createElement(e.type);Object.entries(t).forEach((([e,t])=>{i.setAttribute(e,t)})),e.markup&&i.insertAdjacentHTML('afterbegin',e.markup),n.appendChild(i)},this.composeCORSLinks=function(e){const t=document.querySelectorAll(e.node);e.regex||(e.regex=/<a (?!target)/gim),e.replace||(e.replace='<a target="_top" '),t.forEach((t=>{let n=t.shadowRoot;if(n){let t=n.querySelector(e.query).innerHTML;n.querySelector(e.query).innerHTML=t.replace(e.regex,e.replace)}}))},this.ignore=function(e){return null===e||'undefined'==e||(this.isString(e)?0===e.length||!e.trim():Array.isArray(e)?0===e.length:e&&e.constructor===Object?0===Object.keys(e).length:!e)},this.getBooleanAttribute=function(e){return!0===e||!1===e?atr:!(this.ignore(e)||!this.isString(e))&&this.attrib.bool.includes(e.trim().toUpperCase())},this.getUniqueId=function(e){e.name||(e.name='n'),e.range||(e.range=100);for(;document.getElementById(e.el=e.name+Math.floor(Math.random()*e.range)););return e.el},this.removeDuplcates=function(e,t){const n=JSON.stringify;let i=[...new Map(e.map((e=>[n(e),e]))).values()];return t?i.sort(((e,t)=>e-t)):i},this.parseText=function(e){if(this.ignore(e.text))return;if(e.regex||e.text.includes('</template>'))return e.text.replace(this.attrib.markup,'');let t=(new DOMParser).parseFromString(e.text,'text/html');return t.body.textContent||t.body.innerText},this.inspect=function(e){const t=function(e){let t=e.notification+' [ DateTime: '+(new Date).toLocaleString()+' ]';console.error(t),e.alert&&alert(t)},n={[this.attrib.notify]:function(){e.logtrace&&console.info(e.notification)},[this.attrib.warn]:function(){e.logtrace&&console.warn(e.notification)},[this.attrib.reference]:function(){e.logtrace&&console.log('Reference: '+this.attrib.newline+this.attrib.newline+e.reference)},[this.attrib.error]:function(){t({notification:e.notification,alert:e.logtrace})},[this.attrib.default]:function(){t({notification:'Unhandled exception'})}};n[e.type]()||n[this.attrib.default]},this.getObjectProperties=function(e={},t=''){for(let n in e)t+=n+': '+e[n]+', ';return t.replace(/, +$/g,'')},this.attrib={reference:1,notify:2,warn:3,default:98,error:99,bArray:['true','1','enable','confirm','grant','active','on','yes'],pArray:['color','font','padding','top','bottom'],tArray:['link','script','style'],isWindows:-1!=navigator.appVersion.indexOf('Win'),whitespace:/\s/g,markup:/(<([^>]+)>)/gi,get newline(){return this.isWindows?'\r\n':'\n'},get bool(){return this.bArray.map((e=>e.trim().toUpperCase()))},get tagName(){return this.tArray.map((e=>e.trim().toUpperCase()))},get metaUrl(){return import.meta.url}}}).call(resource);var cookies={};(function(){this.get=function(e){const t=document.cookie.match(new RegExp('(?:^|; )'+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,'\\$1')+'=([^;]*)'));return t?decodeURIComponent(t[1]):void 0},this.set=function(e,t,n={}){let i=encodeURIComponent(e)+'='+encodeURIComponent(t);n.path||(n.path='/'),n.samesite||(n.samesite='Strict; Secure'),n.expires instanceof Date&&(n.expires=n.expires.toUTCString());for(let e in n)i+='; '+e+'='+(null!=typeof n[e]?n[e]:null);document.cookie=i}}).call(cookies);var touch={};(function(){this.setSwipe=function(touch,e,t){touch.act||(touch.act=80),touch.node.addEventListener('touchstart',(e=>{touch.start=e.changedTouches[0].screenX}),{passive:!0}),touch.node.addEventListener('touchmove',(e=>{e.preventDefault()}),{passive:!0}),touch.node.addEventListener('touchend',(n=>{touch.end=n.changedTouches[0].screenX,Math.abs(touch.start-touch.end)>touch.act&&(t.action=touch.start>touch.end,e.call(this,t))}),{passive:!0})}}).call(touch);var cache={};(function(){this.available='caches'in window,this.installCache=function(t,n){n.forEach((n=>{fetch(n).then((i=>(i.ok||console.warn(e+'['+i.status+'] - '+n),caches.open(t).then((cache=>cache.put(n,i))))))}))},this.viewCachedRequests=function(e){caches.open(e).then((function(cache){cache.keys().then((function(e){console.log('exploreCache: '+e)}))}))},this.listExistingCacheNames=function(){caches.keys().then((function(e){console.log('listCache: '+e)}))},this.deleteCacheByName=function(e){caches.delete(e).then((function(){console.log(e+' - Cache successfully deleted')}))},this.deleteOldCacheVersions=function(e){caches.keys().then((function(e){return Promise.all(e.map((function(e){if(e!=e)return caches.delete(e)})))}))}}).call(cache);