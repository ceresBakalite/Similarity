/**
 * @license
 * cereslibrary v1.0.0
 *
 * Minified using terser v5.3.5
 * Original file: ceresbakalite/similarity/repos/scripts/cereslibrary.js
 *
 * ceresBakalite/similarity is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2020 Alexander Munro
*/
export{include,generic,cookies,compose,touch,caching};var include={};(function(){"use strict";this.directive=function(e="include-directive"){window.customElements.get(e)||window.customElements.define(e,class extends HTMLElement{async connectedCallback(){const e=this.getAttribute("src");this.insertAdjacentHTML("afterbegin",await(await fetch(e)).text())}})}}).call(include);var generic={};(function(e="en"){"use strict";const t=function(){return attribute},n=function(){return attribute},i=new Map;i.set("true",!0),i.set("t",!0),i.set("yes",!0),i.set("y",!0),i.set("1",!0),t.reference=1,t.notify=2,t.default=98,t.error=99,t.isWindows=-1!=navigator.appVersion.indexOf("Win"),t.newline=t.isWindows?"\r\n":"\n",t.whitespace=/\s/g,Object.freeze(t),n.inspect="Error: An exception occurred in the inspect method.  The diagnostic argument was empty or null",n.errorhandler="Error: An exception occurred in the errorhandler method.  The error argument was empty or null",n.errordefault="An unexpected error has occurred. The inspection type was missing or invalid",Object.freeze(n),this.constant=t,Object.freeze(this.constant),this.windowOpen=function(e){window.open(e.element.getAttribute("src"),e.type)},this.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)},this.clearElement=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},this.getImportMetaUrl=function(){return import.meta.url},this.isEmptyOrNull=function(e){return null===e||"undefined"==e||(this.isString(e)?0===e.length||!e.trim():Array.isArray(e)?0===e.length:e&&e.constructor===Object?0===Object.keys(e).length:!e)},this.getBooleanAttribute=function(t){if(!0===t||!1===t)return t;if(this.isEmptyOrNull(t))return!1;if(!this.isString(t))return!1;const n=t.trim().toLocaleLowerCase(e);return i.get(n)||!1},this.removeDuplcates=function(e,t,n){let i=[...new Map(e.map((e=>[t(e),e]))).values()];return n?i.sort(((e,t)=>e-t)):i},this.inspect=function(e){if(this.isEmptyOrNull(e))return this.inspect({type:t.error,notification:n.inspect});const i={[t.notify]:function(){e.logtrace&&console.log(e.notification)},[t.error]:function(){this.errorHandler({notification:e.notification,alert:e.logtrace})},[t.reference]:function(){e.logtrace&&console.log("Reference: "+t.newline+t.newline+e.reference)},[t.default]:function(){this.errorHandler({notification:n.errordefault,alert:e.logtrace})}};return i[e.type]()||i[t.default]},this.errorHandler=function(e){if(this.isEmptyOrNull(e))return this.inspect({type:t.error,notification:n.errorHandler});const i=e.notification+" [ DateTime: "+(new Date).toLocaleString()+" ]";return console.log(i),e.alert&&alert(i),!1},this.getObjectProperties=function(e,t=""){for(let n in e)t+=n+": "+e[n]+", ";return t.replace(/, +$/g,"")}}).call(generic);var cookies={};(function(){"use strict";this.get=function(e){const t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},this.set=function(e,t,n={}){let i=encodeURIComponent(e)+"="+encodeURIComponent(t);n.path||(n.path="/"),n.samesite||(n.samesite="Strict; Secure"),n.expires instanceof Date&&(n.expires=n.expires.toUTCString());for(let e in n)i+="; "+e+"="+(null!=typeof n[e]?n[e]:null);document.cookie=i}}).call(cookies);var compose={};(function(e="en"){"use strict";const t=new Map;t.set("link",document.head),t.set("script",document.head),t.set("style",document.head),this.composeElement=function(n){const i=t.get(n.typeof.toLocaleLowerCase(e))||n.parent,r=document.createElement(n.typeof);r.id=n.id,n.className&&r.setAttribute("class",n.className),n.onClick&&r.setAttribute("onclick",n.onClick),n.src&&r.setAttribute("src",n.src),n.alt&&r.setAttribute("alt",n.alt),n.rel&&r.setAttribute("rel",n.rel),n.type&&r.setAttribute("type",n.type),n.href&&r.setAttribute("href",n.href),n.as&&r.setAttribute("as",n.as),n.crossorigin&&r.setAttribute("crossorigin",n.crossorigin),n.media&&r.setAttribute("media",n.media),n.markup&&r.insertAdjacentHTML("afterbegin",n.markup),i.appendChild(r)},this.composeUniqueElementId=function(e=null,t=100){let n=null;for(;document.getElementById(n=e+Math.floor(Math.random()*t)););return n},this.composeCORSLinks=function(e){const t=document.querySelectorAll(e.node);e.regex||(e.regex=/<a (?!target)/gim),e.replace||(e.replace='<a target="_top" '),t.forEach((t=>{let n=t.shadowRoot;if(n){let t=n.querySelector(e.query).innerHTML;n.querySelector(e.query).innerHTML=t.replace(e.regex,e.replace)}}))}}).call(compose);var touch={};(function(){"use strict";this.setHorizontalSwipe=function(e,t,n){e.act||(e.act=80),e.node.addEventListener("touchstart",(t=>{e.start=t.changedTouches[0].screenX}),{passive:!0}),e.node.addEventListener("touchmove",(e=>{e.preventDefault()}),{passive:!0}),e.node.addEventListener("touchend",(i=>{e.end=i.changedTouches[0].screenX,Math.abs(e.start-e.end)>e.act&&(n.action=e.start>e.end,t.call(this,n))}),{passive:!0})}}).call(touch);var caching={};(function(e){"use strict";this.available="caches"in window,this.set=function(e="Cache-Control",t="public, max-age 604800, s-maxage 43200"){(new Headers).set(e,t)},this.get=function(e="Cache-Control"){(new Headers).get(e)},this.installCache=function(e,t,n="/images/NAVCogs.png"){window.addEventListener("install",(function(n){n.waitUntil(caches.open(e).then((function(e){return e.addAll(t)})))})),window.addEventListener("fetch",(function(t){t.respondWith(caches.match(t.request).then((function(i){return void 0!==i?i:fetch(t.request).then((function(n){let i=n.clone();return caches.open(e).then((function(e){e.put(t.request,i)})),n})).catch((function(){return caches.match(n)}))})))}))},this.viewCachedRequests=function(e){caches.open(e).then((function(e){e.keys().then((function(e){console.log("exploreCache: "+e)}))}))},this.listExistingCacheNames=function(){caches.keys().then((function(e){console.log("listCache: "+e)}))},this.deleteCacheByName=function(e){caches.delete(e).then((function(){console.log(e+" - Cache successfully deleted")}))},this.deleteOldCacheVersions=function(e){caches.keys().then((function(t){return Promise.all(t.map((function(t){if(t!=e)return caches.delete(t)})))}))}}).call(caching);