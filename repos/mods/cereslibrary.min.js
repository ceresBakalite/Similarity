/**
 * @license
 * cereslibrary v1.0.0
 *
 * Minified using terser v5.3.5
 * Original file: ceresbakalite/similarity/repos/scripts/cereslibrary.js
 *
 * ceresBakalite/similarity is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2020 Alexander Munro
*/
export{include,generic,cookies,compose,touch,caching};var include={};(function(){"use strict";this.directive=function(e="include-directive"){window.customElements.get(e)||window.customElements.define(e,class extends HTMLElement{async connectedCallback(){const e=this.getAttribute("src");this.insertAdjacentHTML("afterbegin",await(await fetch(e)).text())}})}}).call(include);var generic={};(function(){"use strict";const e=function(){return attribute},t=function(){return attribute},n=new Map;n.set("true",!0),n.set("t",!0),n.set("yes",!0),n.set("y",!0),n.set("1",!0),e.reference=1,e.notify=2,e.default=98,e.error=99,e.isWindows=-1!=navigator.appVersion.indexOf("Win"),e.newline=e.isWindows?"\r\n":"\n",Object.freeze(e),t.inspect="Error: An exception occurred in the inspect method.  The diagnostic argument was empty or null",t.errorhandler="Error: An exception occurred in the errorhandler method.  The error argument was empty or null",t.errordefault="An unexpected error has occurred. The inspection type was missing or invalid",Object.freeze(t),this.constant=e,Object.freeze(this.constant),this.windowOpen=function(e){window.open(e.element.getAttribute("src"),e.type)},this.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)},this.clearElement=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},this.getImportMetaUrl=function(){return import.meta.url},this.isEmptyOrNull=function(e){return null===e||"undefined"==e||(this.isString(e)?0===e.length||!e.trim():Array.isArray(e)?0===e.length:e&&e.constructor===Object?0===Object.keys(e).length:!e)},this.getBooleanAttribute=function(e,t="en"){if(!0===e||!1===e)return e;if(this.isEmptyOrNull(e))return!1;if(!this.isString(e))return!1;const i=e.trim().toLocaleLowerCase(t);return n.get(i)||!1},this.removeDuplcates=function(e,t,n){let i=[...new Map(e.map((e=>[t(e),e]))).values()];return n?i.sort(((e,t)=>e-t)):i},this.inspect=function(n){if(this.isEmptyOrNull(n))return this.inspect({type:e.error,notification:t.inspect});const i={[e.notify]:function(){n.logtrace&&console.log(n.notification)},[e.error]:function(){this.errorHandler({notification:n.notification,alert:n.logtrace})},[e.reference]:function(){n.logtrace&&console.log("Reference: "+e.newline+e.newline+n.reference)},[e.default]:function(){this.errorHandler({notification:t.errordefault,alert:n.logtrace})}};return i[n.type]()||i[e.default]},this.errorHandler=function(n){if(this.isEmptyOrNull(n))return this.inspect({type:e.error,notification:t.errorHandler});const i=n.notification+" [ DateTime: "+(new Date).toLocaleString()+" ]";return console.log(i),n.alert&&alert(i),!1},this.getObjectProperties=function(e,t=""){for(let n in e)t+=n+": "+e[n]+", ";return t.replace(/, +$/g,"")}}).call(generic);var cookies={};(function(){"use strict";this.get=function(e){const t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},this.set=function(e,t,n={}){let i=encodeURIComponent(e)+"="+encodeURIComponent(t);n.path||(n.path="/"),n.samesite||(n.samesite="Strict; Secure"),n.expires instanceof Date&&(n.expires=n.expires.toUTCString());for(let e in n)i+="; "+e+"="+(null!=typeof n[e]?n[e]:null);document.cookie=i}}).call(cookies);var compose={};(function(){"use strict";const e=new Map;e.set("link",document.head),e.set("script",document.head),e.set("style",document.head),this.composeElement=function(t,n="en"){const i=e.get(t.typeof.toLocaleLowerCase(n))||t.parent,r=document.createElement(t.typeof);r.id=t.id,t.className&&r.setAttribute("class",t.className),t.onClick&&r.setAttribute("onclick",t.onClick),t.src&&r.setAttribute("src",t.src),t.alt&&r.setAttribute("alt",t.alt),t.rel&&r.setAttribute("rel",t.rel),t.type&&r.setAttribute("type",t.type),t.href&&r.setAttribute("href",t.href),t.as&&r.setAttribute("as",t.as),t.crossorigin&&r.setAttribute("crossorigin",t.crossorigin),t.media&&r.setAttribute("media",t.media),t.markup&&r.insertAdjacentHTML("afterbegin",t.markup),i.appendChild(r)},this.composeUniqueElementId=function(e=null,t=100){let n=null;for(;document.getElementById(n=e+Math.floor(Math.random()*t)););return n},this.composeCORSLinks=function(e){const t=document.querySelectorAll(e.node);e.regex||(e.regex=/<a /gi),e.replacement||(e.replacement='<a target="_top" '),t.forEach((t=>{let n=t.shadowRoot;if(n){let t=n.querySelector(e.query).innerHTML;n.querySelector(e.query).innerHTML=t.replace(e.regex,e.replacement)}}))}}).call(compose);var touch={};(function(){"use strict";this.setHorizontalSwipe=function(e,t,n){e.act||(e.act=80),e.node.addEventListener("touchstart",(t=>{e.start=t.changedTouches[0].screenX}),{passive:!0}),e.node.addEventListener("touchmove",(e=>{e.preventDefault()}),{passive:!0}),e.node.addEventListener("touchend",(i=>{e.end=i.changedTouches[0].screenX,Math.abs(e.start-e.end)>e.act&&(n.action=e.start>e.end,t.call(this,n))}),{passive:!0})}}).call(touch);var caching={};(function(e){"use strict";this.available="caches"in window,this.set=function(e="Cache-Control",t="public, max-age 604800, s-maxage 43200"){(new Headers).set(e,t)},this.get=function(e="Cache-Control"){(new Headers).get(e)},this.installCache=function(e,t,n="/images/NAVCogs.png"){window.addEventListener("install",(function(n){n.waitUntil(caches.open(e).then((function(e){return e.addAll(t)})))})),window.addEventListener("fetch",(function(t){t.respondWith(caches.match(t.request).then((function(i){return void 0!==i?i:fetch(t.request).then((function(n){let i=n.clone();return caches.open(e).then((function(e){e.put(t.request,i)})),n})).catch((function(){return caches.match(n)}))})))}))},this.viewCachedRequests=function(e){caches.open(e).then((function(e){e.keys().then((function(e){console.log("exploreCache: "+e)}))}))},this.listExistingCacheNames=function(){caches.keys().then((function(e){console.log("listCache: "+e)}))},this.deleteCacheByName=function(e){caches.delete(e).then((function(){console.log(e+" - Cache successfully deleted")}))},this.deleteOldCacheVersions=function(e){caches.keys().then((function(t){return Promise.all(t.map((function(t){if(t!=e)return caches.delete(t)})))}))}}).call(caching);