/**
 * @license
 * cereslibrary v1.0.0
 *
 * Minified using terser v5.5.1
 * Original file: gh ./repos/scripts/cereslibrary.js
 *
 * ceresBakalite/similarity is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2020 Alexander Munro
*/
export{include,resource,cookies,touch,cache};const t='Warning: cache response status ';var include={};(function(){this.directive=function(t='include-directive'){window.customElements.get(t)||window.customElements.define(t,class extends HTMLElement{async connectedCallback(){const t=this.getAttribute('src');fetch(t).then((t=>t.text())).then((t=>{this.insertAdjacentHTML('afterbegin',t)}))}})}}).call(include);var resource={};(function(){this.srcOpen=function(t){window.open(t.element.getAttribute('src'),t.type)},this.isString=function(t){return'[object String]'==Object.prototype.toString.call(t)},this.clearElement=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},this.fileName=function(t){return t.substring(t.lastIndexOf('/')+1,t.length)},this.fileType=function(t,e){return t.substring(t.lastIndexOf('.'),t.length).toUpperCase()===e.toUpperCase()},this.composeElement=function(t,e){if(!t.type)return;const n=this.attrib.tag.includes(t.type.trim().toUpperCase())?document.head:t.parent||document.body,i=document.createElement(t.type);Object.entries(e).forEach((([t,e])=>{i.setAttribute(t,e)})),t.markup&&i.insertAdjacentHTML('afterbegin',t.markup),n.appendChild(i)},this.composeCORSLinks=function(t){const e=document.querySelectorAll(t.node);t.regex||(t.regex=/<a (?!target)/gim),t.replace||(t.replace='<a target="_top" '),e.forEach((e=>{let n=e.shadowRoot;if(n){let e=n.querySelector(t.query).innerHTML;n.querySelector(t.query).innerHTML=e.replace(t.regex,t.replace)}}))},this.ignore=function(t){return null===t||'undefined'==t||(this.isString(t)?0===t.length||!t.trim():Array.isArray(t)?0===t.length:t&&t.constructor===Object?0===Object.keys(t).length:!t)},this.getBooleanAttribute=function(t){return!0===t||!1===t?atr:!(this.ignore(t)||!this.isString(t))&&this.attrib.bool.includes(t.trim().toUpperCase())},this.getUniqueId=function(t){t.name||(t.name='n'),t.range||(t.range=100);for(;document.getElementById(t.el=t.name+Math.floor(Math.random()*t.range)););return t.el},this.getCurrentDateTime=function(t={}){const e=new Date;if(this.ignore(t))return e;Date.prototype.today=function(){return(this.getDate()<10?'0':'')+this.getDate()+'/'+(this.getMonth()+1<10?'0':'')+(this.getMonth()+1)+'/'+this.getFullYear()},Date.prototype.timeNow=function(){let e=(this.getHours()<10?'0':'')+this.getHours()+':'+(this.getMinutes()<10?'0':'')+this.getMinutes()+':'+(this.getSeconds()<10?'0':'')+this.getSeconds();return t.ms?e+'.'+(this.getUTCMilliseconds()<10?'0':'')+this.getUTCMilliseconds():e};let n=t.date?e.today()+' ':'';return n=t.time?n+e.timeNow():'',n.trim()},this.removeDuplcates=function(t,e){const n=JSON.stringify;let i=[...new Map(t.map((t=>[n(t),t]))).values()];return e?i.sort(((t,e)=>t-e)):i},this.parseText=function(t){if(this.ignore(t.text))return;if(t.regex||t.text.includes('</template>'))return t.text.replace(this.attrib.markup,'');let e=(new DOMParser).parseFromString(t.text,'text/html');return e.body.textContent||e.body.innerText},this.inspect=function(t){const e=function(t){let e=t.notification+' [ DateTime: '+(new Date).toLocaleString()+' ]';console.error(e),t.alert&&alert(e)},n={[this.attrib.notify]:function(){t.logtrace&&console.info(t.notification)},[this.attrib.warn]:function(){t.logtrace&&console.warn(t.notification)},[this.attrib.reference]:function(){t.logtrace&&console.log('Reference: '+this.attrib.newline+this.attrib.newline+t.reference)},[this.attrib.error]:function(){e({notification:t.notification,alert:t.logtrace})},[this.attrib.default]:function(){e({notification:'Unhandled exception'})}};n[t.type]()||n[this.attrib.default]},this.getObjectProperties=function(t={},e=''){for(let n in t)e+=n+': '+t[n]+', ';return e.replace(/, +$/g,'')},this.attrib={reference:1,notify:2,warn:3,default:98,error:99,bArray:['true','1','enable','confirm','grant','active','on','yes'],pArray:['color','font','padding','top','bottom'],tArray:['link','script','style'],isWindows:-1!=navigator.appVersion.indexOf('Win'),whitespace:/\s/g,markup:/(<([^>]+)>)/gi,get newline(){return this.isWindows?'\r\n':'\n'},get bool(){return this.bArray.map((t=>t.trim().toUpperCase()))},get tagName(){return this.tArray.map((t=>t.trim().toUpperCase()))},get metaUrl(){return import.meta.url}}}).call(resource);var cookies={};(function(){this.get=function(t){const e=document.cookie.match(new RegExp('(?:^|; )'+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,'\\$1')+'=([^;]*)'));return e?decodeURIComponent(e[1]):void 0},this.set=function(t,e,n={}){let i=encodeURIComponent(t)+'='+encodeURIComponent(e);n.path||(n.path='/'),n.samesite||(n.samesite='Strict; Secure'),n.expires instanceof Date&&(n.expires=n.expires.toUTCString());for(let t in n)i+='; '+t+'='+(null!=typeof n[t]?n[t]:null);document.cookie=i}}).call(cookies);var touch={};(function(){this.setSwipe=function(touch,t,e){touch.act||(touch.act=80),touch.node.addEventListener('touchstart',(t=>{touch.start=t.changedTouches[0].screenX}),{passive:!0}),touch.node.addEventListener('touchmove',(t=>{t.preventDefault()}),{passive:!0}),touch.node.addEventListener('touchend',(n=>{touch.end=n.changedTouches[0].screenX,Math.abs(touch.start-touch.end)>touch.act&&(e.action=touch.start>touch.end,t.call(this,e))}),{passive:!0})}}).call(touch);var cache={};(function(){this.available='caches'in window,this.installCache=function(e,n){n.forEach((n=>{fetch(n).then((i=>(i.ok||console.warn(t+'['+i.status+'] - '+n),caches.open(e).then((cache=>cache.put(n,i))))))}))},this.viewCachedRequests=function(t){caches.open(t).then((function(cache){cache.keys().then((function(t){console.log('exploreCache: '+t)}))}))},this.listExistingCacheNames=function(){caches.keys().then((function(t){console.log('listCache: '+t)}))},this.deleteCacheByName=function(t){caches.delete(t).then((function(){console.log(t+' - Cache successfully deleted')}))},this.deleteOldCacheVersions=function(t){caches.keys().then((function(t){return Promise.all(t.map((function(t){if(t!=t)return caches.delete(t)})))}))}}).call(cache);