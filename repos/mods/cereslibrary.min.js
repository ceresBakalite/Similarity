/**
 * @license
 * cereslibrary v1.0.0
 *
 * Minified using terser v5.5.1
 * Original file: gh ./repos/scripts/cereslibrary.js
 *
 * ceresBakalite/similarity is licensed under the MIT License - http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2020 Alexander Munro
*/
export{include,resource,e as debug,cookies,touch,cache};var include={};(function(){this.directive=(e='include-directive')=>{globalThis.customElements.get(e)||globalThis.customElements.define(e,class extends HTMLElement{async connectedCallback(){const e=this.getAttribute('src');fetch(e).then((e=>e.text())).then((e=>{this.insertAdjacentHTML('afterbegin',e)}))}})}}).call(include);var resource={};(function(){this.isWindows=-1!=navigator.appVersion.indexOf('Win'),this.whitespace=/\s/g,this.markup=/(<([^>]+)>)/gi,this.commaCodes=/,|&comma;|&#x2c;|&#44;|U+0002C/g,this.commaSymbol='_&c',this.newline=this.isWindows?'\r\n':'\n',this.bArray=['true','1','enable','confirm','grant','active','on','yes'],this.elArray=['link','script','style'],this.bool=this.bArray.map((e=>e.trim().toUpperCase())),this.docHead=this.elArray.map((e=>e.trim().toUpperCase())),this.srcOpen=e=>globalThis.open(e.element.getAttribute('src'),e.type),this.isString=e=>'[object String]'==Object.prototype.toString.call(e),this.clearElement=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},this.fileName=e=>e.substring(e.lastIndexOf('/')+1,e.length),this.fileType=(e,t)=>e.substring(e.lastIndexOf('.')+1,e.length).toUpperCase()===t.toUpperCase(),this.composeElement=(e,t)=>{if(this.ignore(e.type))return;const n=this.docHead.includes(e.type.trim().toUpperCase())?document.head:e.parent||document.body,s=document.createElement(e.type);Object.entries(t).forEach((([e,t])=>{s.setAttribute(e,t)})),e.markup&&s.insertAdjacentHTML('afterbegin',e.markup),n.appendChild(s)},this.composeCORSLinks=e=>{const t=document.querySelectorAll(e.node);e.regex||(e.regex=/<a (?!target)/gim),e.replace||(e.replace='<a target="_top" '),t.forEach((t=>{let n=t.shadowRoot;if(n){let t=n.querySelector(e.query),s=t.value.replace(e.regex,e.replace);this.clearElement(t),t.insertAdjacentHTML('afterbegin',s)}}))},this.ignore=e=>null===e||'undefined'==e||(this.isString(e)?0===e.length||!e.trim():Array.isArray(e)?0===e.length:e&&e.constructor===Object?0===Object.keys(e).length:!e),this.getBoolean=e=>!0===e||!1===e?atr:!(this.ignore(e)||!this.isString(e))&&this.bool.includes(e.trim().toUpperCase()),this.getUniqueId=e=>{e.name||(e.name='n'),e.range||(e.range=100);for(;document.getElementById(e.el=e.name+Math.floor(Math.random()*e.range)););return e.el},this.regexEscape=e=>e.replace(/([.*+?^$|(){}\[\]])/gm,'\\$1'),this.removeDuplcates=(e,t)=>{const n=JSON.stringify,s=[...new Map(e.map((e=>[n(e),e]))).values()];return t?s.sort(((e,t)=>e-t)):s},this.softSanitize=(e,t='text/html')=>this.ignore(e)?null:(new DOMParser).parseFromString(e,t).documentElement.textContent.replace(/</g,'&lt;'),this.parseCSV=(e,t={})=>{const n=e.split('\n'),s=new Array(n.length),i='_&grp;',r=new RegExp('_&grp;s*?$','g'),o=/"[^]*?",|"[^]*?"$/gm,a=e=>{let t=String(e).replace(/"\s*?$|"\s*?,\s*?$/,'').replace(/^\s*?"/,'');return t=t.replace(/""/g,'"'),t.replace(this.commaCodes,this.commaSymbol)+i},c=()=>{const e=/,\s*?$/;let n='';return s.forEach((s=>{if(!rsc.ignore(s)){n+='{ ',s.split(',').forEach(((e,s)=>{n+=(e=>t.nodes[e]?'"'+t.nodes[e]+'": ':'"node'+e+'1": ')(s)+'"'+e.trim().replace(/"/g,'\\"')+'", '})),n=n.replace(e,'')+' },\n'}})),'['+n.replace(e,'')+']'};return n.forEach((e=>{let t=String(e);[...t.matchAll(o)].forEach((e=>{let n=a(e);t=t.replace(e,n)})),s.push((e=>{let t=e.replace(r,'');return t=t.replaceAll(i,', '),t.replace(/(?!\s)[,](?!\s)/g,', ')})(t))})),t.json||t.nodes?c():s.join('\n')}}).call(resource);var e={};(function(){this.reference=1,this.notify=2,this.warn=3,this.default=98,this.error=99,this.isWindows=-1!=navigator.appVersion.indexOf('Win'),this.newline=this.isWindows?'\r\n':'\n',this.inspect=e=>{const t=e=>{const t=e.notification+' [ DateTime: '+this.getCurrentDateTime({ms:!0})+' ]';console.error(t),e.alert&&alert(t)},n={[this.notify]:()=>{e.logtrace&&console.info(e.notification)},[this.warn]:()=>{e.logtrace&&console.warn(e.notification)},[this.reference]:()=>{e.logtrace&&console.log('Reference: '+this.newline+this.newline+e.reference)},[this.error]:()=>t({notification:e.notification,alert:e.logtrace}),[this.default]:()=>t({notification:'Unhandled exception'})};n[e.type]()||n[this.default]},this.getProperties=(e={},t='')=>{for(let n in e)t+=n+': '+e[n]+', ';return t.replace(/, +$/g,'')},this.getCurrentDateTime=(e={})=>{const t=new Date;if(resource.ignore(e))return t;const n=function(e){return e<10?'0':''};Date.prototype.today=()=>n(this.getDate())+this.getDate()+'/'+n(this.getMonth()+1)+(this.getMonth()+1)+'/'+this.getFullYear(),Date.prototype.timeNow=()=>{let t=n(this.getHours())+this.getHours()+':'+n(this.getMinutes())+this.getMinutes()+':'+n(this.getSeconds())+this.getSeconds();return e.ms?t+'.'+n(this.getUTCMilliseconds())+this.getUTCMilliseconds():t};let s=e.date?t.today()+' ':'';return s=e.time?s+t.timeNow():'',s.trim()}}).call(e);var cookies={};(function(){this.get=e=>{const t=document.cookie.match(new RegExp('(?:^|; )'+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,'\\$1')+'=([^;]*)'));return t?decodeURIComponent(t[1]):void 0},this.set=(e,t,n={})=>{let s=encodeURIComponent(e)+'='+encodeURIComponent(t);n.path||(n.path='/'),n.samesite||(n.samesite='Strict; Secure'),n.expires instanceof Date&&(n.expires=n.expires.toUTCString());for(let e in n)s+='; '+e+'='+(null!=typeof n[e]?n[e]:null);document.cookie=s}}).call(cookies);var touch={};(function(){this.setSwipe=(touch,e,t)=>{touch.act||(touch.act=80),touch.node.addEventListener('touchstart',(e=>{touch.start=e.changedTouches[0].screenX}),{passive:!0}),touch.node.addEventListener('touchmove',(e=>{e.preventDefault()}),{passive:!0}),touch.node.addEventListener('touchend',(n=>{touch.end=n.changedTouches[0].screenX,Math.abs(touch.start-touch.end)>touch.act&&(t.action=touch.start>touch.end,e.call(this,t))}),{passive:!0})}}).call(touch);var cache={};(function(){this.installCache=(e,t)=>{t.forEach((t=>{fetch(t).then((n=>(n.ok||console.warn('Warning: cache response status ['+n.status+'] - '+t),caches.open(e).then((cache=>cache.put(t,n))))))}))},this.viewCachedRequests=e=>{caches.open(e).then((cache=>{cache.keys().then((e=>{console.log('exploreCache: '+e)}))}))},this.listExistingCacheNames=()=>{caches.keys().then((e=>{console.log('listCache: '+e)}))},this.deleteCacheByName=e=>{caches.delete(e).then((()=>{console.log(e+' - Cache successfully deleted')}))},this.deleteOldCacheVersions=e=>{caches.keys().then((e=>Promise.all(e.map((e=>{if(e!=e)return caches.delete(e)})))))}}).call(cache);